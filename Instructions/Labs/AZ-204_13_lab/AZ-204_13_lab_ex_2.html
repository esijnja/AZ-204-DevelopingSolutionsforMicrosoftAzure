<article>
<h4><a id="user-content-task-1-open-azure-cloud-shell" class="anchor" aria-hidden="true" href="#task-1-open-azure-cloud-shell"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Task 1: Open Azure Cloud Shell</h4>
<ol>
<li>
<p>Open a new Cloud Shell instance in the Azure portal.</p>
</li>
<li>
<p>If Cloud Shell isn't already configured, configure the shell for Bash by using the default settings.</p>
</li>
<li>
<p>At the <strong>Cloud Shell</strong> command prompt in the portal, use the <strong>az</strong> command with the <strong>--version</strong> flag to get the version of the Azure Command-Line Interface (Azure CLI) tool.</p>
</li>
</ol>
<h4><a id="user-content-task-2-register-the-microsoftcdn-provider" class="anchor" aria-hidden="true" href="#task-2-register-the-microsoftcdn-provider"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Task 2: Register the Microsoft.CDN provider</h4>
<ol>
<li>
<p>Use the <strong>az</strong> command with the <strong>--help</strong> flag to find a list of subgroups and commands at the root level of the Azure CLI.</p>
</li>
<li>
<p>Use the <strong>az provider</strong> command with the <strong>--help</strong> flag to get a list of commands available for resource providers.</p>
</li>
<li>
<p>Use the <strong>az provider list</strong> command to list all currently registered providers.</p>
</li>
<li>
<p>Use the <strong>az provider list</strong> command again with the <strong>--query "[].namespace"</strong> flag to list just the namespaces of the currently registered providers.</p>
</li>
<li>
<p>Observe the list of currently registered providers. The <strong>Microsoft.CDN</strong> provider isn't currently in the list of providers.</p>
</li>
<li>
<p>Use the <strong>az provider register</strong> command with the <strong>--help</strong> flag to get the required flags to register a new provider.</p>
</li>
<li>
<p>Use the <strong>az provider register</strong> command to register a namespace with your current subscription by using the following setting:</p>
<ul>
<li>Namespace: <strong>Microsoft.CDN</strong></li>
</ul>
</li>
<li>
<p>Close the Cloud Shell pane.</p>
</li>
</ol>
<h4><a id="user-content-task-3-create-a-content-delivery-network-profile" class="anchor" aria-hidden="true" href="#task-3-create-a-content-delivery-network-profile"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Task 3: Create a Content Delivery Network profile</h4>
<ol>
<li>
<p>Create a new Content Delivery Network profile with the following details:</p>
<ul>
<li>
<p>Name: <strong>contentdeliverynetwork</strong></p>
</li>
<li>
<p>Existing resource group: <strong>MarketingContent</strong></p>
</li>
<li>
<p>Resource group location: <strong>West Europe</strong></p>
</li>
<li>
<p>Pricing tier: <strong>Standard Akamai</strong></p>
</li>
<li>
<p>Create a new CDN endpoint now: <strong>No</strong></p>
</li>
</ul>
<blockquote>
<p><strong>Note</strong>: Wait for Azure to finish creating the CDN profile before you move forward with the lab. You'll receive a notification when the&nbsp;app&nbsp;is created.</p>
</blockquote>
</li>
</ol>
<h4><a id="user-content-task-4-configure-storage-containers" class="anchor" aria-hidden="true" href="#task-4-configure-storage-containers"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Task 4: Configure Storage containers</h4>
<ol>
<li>
<p>Access the <em><em>contenthost</em>[yourname]</em>** storage account that you created earlier in this lab.</p>
</li>
<li>
<p>Select the <strong>Containers</strong> link in the <strong>Blob service</strong> section, and then create a new container with the following settings:</p>
<ul>
<li>
<p>Name: <strong>media</strong></p>
</li>
<li>
<p>Public access level: <strong>Blob (anonymous read access for blobs only)</strong></p>
</li>
</ul>
</li>
<li>
<p>Create a new container with the following settings:</p>
<ul>
<li>
<p>Name: <strong>video</strong></p>
</li>
<li>
<p>Public access level: <strong>Blob (anonymous read access for blobs only)</strong></p>
</li>
</ul>
</li>
<li>
<p>Observe the updated list of containers.</p>
</li>
</ol>
<h4><a id="user-content-task-5-create-content-delivery-network-endpoints" class="anchor" aria-hidden="true" href="#task-5-create-content-delivery-network-endpoints"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Task 5: Create Content Delivery Network endpoints</h4>
<ol>
<li>
<p>Access the <strong>contentdeliverynetwork</strong> CDN profile that you created earlier in this lab, and then select <strong>+ Endpoint</strong>.</p>
</li>
<li>
<p>Add a new endpoint with the following properties:</p>
<ul>
<li>
<p>Name: <em><em>cdnmedia</em>[yourname]</em>**</p>
</li>
<li>
<p>Origin type: <strong>Storage</strong></p>
</li>
<li>
<p>Origin hostname: <em><em>contenthost</em>[yourname]*.blob.core.windows.net</em>* (the Storage account that you created earlier in this lab)</p>
</li>
<li>
<p>Origin path: <strong>/media</strong></p>
</li>
<li>
<p>Optimized for: <strong>General web delivery</strong></p>
</li>
</ul>
<blockquote>
<p><strong>Note</strong>: Wait for Azure to finish creating the CDN endpoint before you move forward with the lab. You'll receive a notification when the&nbsp;account&nbsp;is created.</p>
</blockquote>
</li>
<li>
<p>Add a new endpoint with the following properties:</p>
<ul>
<li>
<p>Name: <em><em>cdnvideo</em>[yourname]</em>**</p>
</li>
<li>
<p>Origin type: <strong>Storage</strong></p>
</li>
<li>
<p>Origin hostname: <em><em>contenthost</em>[yourname]*.blob.core.windows.net</em>* (the Storage account that you created earlier in this lab)</p>
</li>
<li>
<p>Origin path: <strong>/video</strong></p>
</li>
<li>
<p>Optimized for: <strong>Video on demand media streaming</strong></p>
</li>
</ul>
<blockquote>
<p><strong>Note</strong>: Wait for Azure to finish creating the CDN endpoint before you move forward with the lab. You'll receive a notification when the&nbsp;account&nbsp;is created.</p>
</blockquote>
</li>
<li>
<p>Add a new endpoint with the following properties:</p>
<ul>
<li>
<p>Name: <em><em>cdnweb</em>[yourname]</em>**</p>
</li>
<li>
<p>Origin type: <strong>Web App</strong></p>
</li>
<li>
<p>Origin hostname: <em><em>landingpage</em>[yourname]*.azurewebsites.net</em>* (the Web App that you created earlier in this lab)</p>
</li>
<li>
<p>Optimized for: <strong>General web delivery</strong></p>
</li>
</ul>
<blockquote>
<p><strong>Note</strong>: Wait for Azure to finish creating the CDN endpoint before you move forward with the lab. You'll receive a notification when the&nbsp;account&nbsp;is created.</p>
</blockquote>
</li>
</ol>
<h4><a id="user-content-review-1" class="anchor" aria-hidden="true" href="#review-1"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Review</h4>
<p>In this exercise, you registered the resource provider for Content Delivery Network and then used the provider to create both CDN profile and endpoint resources.</p>
</article>