<article class="markdown-body entry-content container-lg" itemprop="text"><table data-table-type="yaml-metadata">
    <thead>
    <tr>
    <th>lab</th>
    </tr>
    </thead>
    <tbody>
    <tr>
    <td><div><table>
    <thead>
    <tr>
    <th>title</th>
    <th>az204Module</th>
    <th>az020Module</th>
    </tr>
    </thead>
    <tbody>
    <tr>
    <td><div>Lab: Constructing a polyglot data solution</div></td>
    <td><div>Module 04: Develop solutions that use Cosmos DB storage</div></td>
    <td><div>Module 04: Develop solutions that use Cosmos DB storage</div></td>
    </tr>
    </tbody>
  </table>
  </div></td>
    </tr>
    </tbody>
  </table>
  
  <h1><a id="user-content-lab-constructing-a-polyglot-data-solution" class="anchor" aria-hidden="true" href="#lab-constructing-a-polyglot-data-solution"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Lab: Constructing a polyglot data solution</h1>
  <h1><a id="user-content-student-lab-manual" class="anchor" aria-hidden="true" href="#student-lab-manual"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Student lab manual</h1>
  <h2><a id="user-content-lab-scenario" class="anchor" aria-hidden="true" href="#lab-scenario"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Lab scenario</h2>
  <p>You have been assigned the task of updating your company's existing retail web application to use more than one data service in Microsoft Azure. Your company's goal is to take advantage of the best data service for each application component. After conducting thorough research, you decide to migrate your inventory database from Azure SQL Database to Azure Cosmos DB.</p>
  <h2><a id="user-content-objectives" class="anchor" aria-hidden="true" href="#objectives"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Objectives</h2>
  <p>After you complete this lab, you will be able to:</p>
  <ul>
  <li>
  <p>Create instances of various database services by using the Azure portal.</p>
  </li>
  <li>
  <p>Write C# code to connect to SQL Database.</p>
  </li>
  <li>
  <p>Write C# code to connect to Azure Cosmos DB.</p>
  </li>
  </ul>
  <h2><a id="user-content-lab-setup" class="anchor" aria-hidden="true" href="#lab-setup"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Lab setup</h2>
  <ul>
  <li>Estimated time: <strong>45 minutes</strong></li>
  </ul>
  <h2><a id="user-content-instructions" class="anchor" aria-hidden="true" href="#instructions"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Instructions</h2>
  <h3><a id="user-content-before-you-start" class="anchor" aria-hidden="true" href="#before-you-start"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Before you start</h3>
  <h4><a id="user-content-sign-in-to-the-lab-virtual-machine" class="anchor" aria-hidden="true" href="#sign-in-to-the-lab-virtual-machine"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Sign in to the lab virtual machine</h4>
  <p>Ensure that you're signed in to your Windows 10 virtual machine by using the following credentials:</p>
  <ul>
  <li>
  <p>Username: <strong>Admin</strong></p>
  </li>
  <li>
  <p>Password: <strong>Pa55w.rd</strong></p>
  </li>
  </ul>
  <h4><a id="user-content-review-the-installed-applications" class="anchor" aria-hidden="true" href="#review-the-installed-applications"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Review the installed applications</h4>
  <p>Find the taskbar on your Windows 10 desktop. The taskbar contains the icons for the applications that you'll use in this lab:</p>
  <ul>
  <li>
  <p>Microsoft Edge</p>
  </li>
  <li>
  <p>File Explorer</p>
  </li>
  <li>
  <p>Visual Studio Code</p>
  </li>
  </ul>
  <h3><a id="user-content-exercise-1-creating-database-resources-in-azure" class="anchor" aria-hidden="true" href="#exercise-1-creating-database-resources-in-azure"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Exercise 1: Creating database resources in Azure</h3>
  <h4><a id="user-content-task-1-open-the-azure-portal" class="anchor" aria-hidden="true" href="#task-1-open-the-azure-portal"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Task 1: Open the Azure portal</h4>
  <ol>
  <li>
  <p>Sign in to the Azure portal (<a href="https://portal.azure.com" rel="nofollow">https://portal.azure.com</a>).</p>
  </li>
  <li>
  <p>If this is your first time signing in to the Azure portal, you'll notice a dialog box offering a tour of the portal. Select the <strong>Get Started</strong> button to skip the tour.</p>
  </li>
  </ol>
  <h4><a id="user-content-task-2-create-an-azure-sql-database-server-resource" class="anchor" aria-hidden="true" href="#task-2-create-an-azure-sql-database-server-resource"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Task 2: Create an Azure SQL Database server resource</h4>
  <ol>
  <li>
  <p>Create a new <strong>Azure SQL Database server (logical server)</strong> resource with the following details:</p>
  <ul>
  <li>
  <p>Server name: <em><em>polysqlsrvr</em>[yourname]</em>**</p>
  </li>
  <li>
  <p>New resource group: <strong>PolyglotData</strong></p>
  </li>
  <li>
  <p>Server admin login: <strong>testuser</strong></p>
  </li>
  <li>
  <p>Password: <strong>TestPa55w.rd</strong></p>
  </li>
  <li>
  <p>Location: <strong>(US) East US</strong></p>
  </li>
  <li>
  <p>Allow Azure services to access server: <strong>Yes</strong></p>
  </li>
  </ul>
  <blockquote>
  <p><strong>Note</strong>: At this point in the lab, we are only creating the Azure SQL logical server. We will create the Azure SQL database instance later in the lab.</p>
  </blockquote>
  <blockquote>
  <p><strong>Note</strong>: Wait for Azure to finish creating the SQL server instance before you move forward with the lab. You'll receive a notification when the SQL server is created.</p>
  </blockquote>
  </li>
  </ol>
  <h4><a id="user-content-task-3-create-an-azure-cosmos-db-account-resource" class="anchor" aria-hidden="true" href="#task-3-create-an-azure-cosmos-db-account-resource"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Task 3: Create an Azure Cosmos DB account resource</h4>
  <ol>
  <li>
  <p>Create a new <strong>Azure Cosmos DB</strong> instance with the following details:</p>
  <ul>
  <li>
  <p>Account name: <em><em>polycosmos</em>[yourname]</em>**</p>
  </li>
  <li>
  <p>Existing resource group: <strong>PolyglotData</strong></p>
  </li>
  <li>
  <p>API: <strong>Core (SQL)</strong></p>
  </li>
  <li>
  <p>Notebooks (Preview): <strong>Off</strong></p>
  </li>
  <li>
  <p>Apply Free Tier Discount: <strong>Do Not Apply</strong></p>
  </li>
  <li>
  <p>Location: <strong>(US) East US</strong></p>
  </li>
  <li>
  <p>Account Type <strong>Non-Production</strong></p>
  </li>
  <li>
  <p>Multi-region writes: <strong>Disable</strong></p>
  </li>
  </ul>
  <blockquote>
  <p><strong>Note</strong>: Wait for Azure to finish creating the Azure Cosmos DB account before you move forward with the lab. You'll receive a notification when the Azure Cosmos DB account is created.</p>
  </blockquote>
  </li>
  <li>
  <p>Go to the blade for your newly created Azure Cosmos DB account resource, and then open the Keys pane.</p>
  </li>
  <li>
  <p>In the&nbsp;Keys&nbsp;pane, record the value of the <strong>PRIMARY CONNECTION STRING</strong> text box.</p>
  <blockquote>
  <p><strong>Note</strong>: You'll use these values later in this lab.</p>
  </blockquote>
  </li>
  </ol>
  <h4><a id="user-content-task-4-create-an-azure-storage-account-resource" class="anchor" aria-hidden="true" href="#task-4-create-an-azure-storage-account-resource"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Task 4: Create an Azure Storage account resource</h4>
  <ol>
  <li>
  <p>Create a new Azure Storage account with the following details:</p>
  <ul>
  <li>
  <p>Storage account name: <em><em>polystor</em>[yourname]</em>**</p>
  </li>
  <li>
  <p>Existing resource group: <strong>PolyglotData</strong></p>
  </li>
  <li>
  <p>Account kind: <strong>StorageV2 (general purpose v2)</strong></p>
  </li>
  <li>
  <p>Location: <strong>(US) East US</strong></p>
  </li>
  <li>
  <p>Replication: <strong>Locally-redundant storage (LRS)</strong></p>
  </li>
  <li>
  <p>Performance: <strong>Standard</strong></p>
  </li>
  <li>
  <p>Access tier (default): <strong>Hot</strong></p>
  </li>
  </ul>
  <blockquote>
  <p><strong>Note</strong>: Wait for Azure to finish creating the storage account before you move forward with the lab. You'll receive a notification when the storage account is created.</p>
  </blockquote>
  </li>
  </ol>
  <h4><a id="user-content-review" class="anchor" aria-hidden="true" href="#review"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Review</h4>
  <p>In this exercise, you created all the Azure resources that you'll need for a polyglot data solution.</p>
  <h3><a id="user-content-exercise-2-import-and-validate-data" class="anchor" aria-hidden="true" href="#exercise-2-import-and-validate-data"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Exercise 2: Import and validate data</h3>
  <h4><a id="user-content-task-1-upload-image-blobs" class="anchor" aria-hidden="true" href="#task-1-upload-image-blobs"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Task 1: Upload image blobs</h4>
  <ol>
  <li>
  <p>Go to the blade for the <em><em>polystor</em>[yourname]</em>** Azure Storage account that you created earlier in this lab.</p>
  </li>
  <li>
  <p>Open the Containers pane, and then create a new container with the following settings:</p>
  <ul>
  <li>
  <p>Name: <strong>images</strong></p>
  </li>
  <li>
  <p>Public access level: <strong>Blob (anonymous read access for blobs only)</strong></p>
  </li>
  </ul>
  </li>
  <li>
  <p>Go to the new <strong>images</strong> container, and then open the Properties pane.</p>
  </li>
  <li>
  <p>In the Properties pane, record the value in the <strong>URL</strong> text box.</p>
  <blockquote>
  <p><strong>Note</strong>: You'll use this value later in this lab.</p>
  </blockquote>
  </li>
  <li>
  <p>Return to the blade for the <strong>images</strong> container.</p>
  </li>
  <li>
  <p>Use the <strong>Upload</strong> button to upload the 42 individual <strong>.jpg</strong> image files in the <strong>Allfiles (F):\Allfiles\Labs\04\Starter\Images</strong> folder on your lab machine.</p>
  <blockquote>
  <p><strong>Note</strong>: We recommended that you enable the <strong>Overwrite if files already exist</strong> option.</p>
  </blockquote>
  </li>
  </ol>
  <h4><a id="user-content-task-2-upload-an-sql-bacpac-file" class="anchor" aria-hidden="true" href="#task-2-upload-an-sql-bacpac-file"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Task 2: Upload an SQL .bacpac file</h4>
  <ol>
  <li>
  <p>Go back to the blade for the <em><em>polystor</em>[yourname]</em>** Azure Storage account, and then open the Containers pane again.</p>
  </li>
  <li>
  <p>Create a new container with the following settings:</p>
  <ul>
  <li>
  <p>Name: <strong>databases</strong></p>
  </li>
  <li>
  <p>Public access level: <strong>Private (no anonymous access)</strong></p>
  </li>
  </ul>
  </li>
  <li>
  <p>Go to the new <strong>databases</strong> container.</p>
  </li>
  <li>
  <p>Use the <strong>Upload</strong> button to upload the <strong>AdventureWorks.bacpac</strong> file in the <strong>Allfiles (F):\Allfiles\Labs\04\Starter\</strong> folder on your lab machine.</p>
  <blockquote>
  <p><strong>Note</strong>: We recommended that you enable the <strong>Overwrite if files already exist</strong> option.</p>
  </blockquote>
  </li>
  </ol>
  <h4><a id="user-content-task-3-import-an-sql-database" class="anchor" aria-hidden="true" href="#task-3-import-an-sql-database"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Task 3: Import an SQL database</h4>
  <ol>
  <li>
  <p>Go to the blade for the <em><em>polysqlsrvr</em>[yourname]</em>** SQL server resource that you created earlier in this lab.</p>
  </li>
  <li>
  <p>Import the database from your Azure Storage account into the SQL server instance by using the following details:</p>
  <ul>
  <li>
  <p>Storage account: <em><em>polystor</em>[yourname]</em>**</p>
  </li>
  <li>
  <p>Database backup blob: <strong>databases\AdventureWorks.bacpac</strong></p>
  </li>
  <li>
  <p>Database name: <strong>AdventureWorks</strong></p>
  </li>
  <li>
  <p>Server admin login: <strong>testuser</strong></p>
  </li>
  <li>
  <p>Password: <strong>TestPa55w.rd</strong></p>
  </li>
  </ul>
  <blockquote>
  <p><strong>Note</strong>: Wait for the database to be created before you continue with this lab. If you receive a firewall-related error on the import step, it means you did not correctly configure the <strong>Allow Azure services to access server</strong> setting on your SQL Server earlier in the lab.  Review your settings, delete the empty <strong>AdventureWorks</strong> database, and then attempt your import again.</p>
  </blockquote>
  </li>
  </ol>
  <h4><a id="user-content-task-4-use-an-imported-sql-database" class="anchor" aria-hidden="true" href="#task-4-use-an-imported-sql-database"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Task 4: Use an imported SQL database</h4>
  <ol>
  <li>
  <p>Go back to the blade for the <em><em>polysqlsrvr</em>[yourname]</em>** SQL server resource.</p>
  </li>
  <li>
  <p>Open the Firewalls and virtual networks pane.</p>
  </li>
  <li>
  <p>Add your current client IP address to the list of allowed IP addresses, and then save the list.</p>
  </li>
  <li>
  <p>Go to the blade for the <strong>AdventureWorks</strong> SQL database resource that you recently imported.</p>
  </li>
  <li>
  <p>Open the Connection strings pane, and then record the value of the <strong>ADO.NET (SQL Authentication)</strong> connection string.</p>
  </li>
  <li>
  <p>Update the connection string that you recorded by replacing the placeholder values for <em>your_username</em> and <em>your_password</em></p>
  <blockquote>
  <p><strong>Note</strong>: For example, if your connection string was originally <code>Server=tcp:polysqlsrvrinstructor.database.windows.net,1433;Initial Catalog=AdventureWorks;User ID={your_username};Password={your_password};</code>, your updated connection string will be <code>Server=tcp:polysqlsrvrinstructor.database.windows.net,1433;Initial Catalog=AdventureWorks;User ID=testuser;Password=TestPa55w.rd;</code></p>
  </blockquote>
  </li>
  <li>
  <p>Go back to the blade for the <strong>AdventureWorks</strong> SQL database resource.</p>
  </li>
  <li>
  <p>Open the Query editor pane, and then sign in by using the following credentials:</p>
  <ul>
  <li>
  <p>Username: <strong>testuser</strong></p>
  </li>
  <li>
  <p>Password: <strong>TestPa55w.rd</strong></p>
  </li>
  </ul>
  </li>
  <li>
  <p>Run the following query, and then observe the results:</p>
  <pre><code>SELECT * FROM AdventureWorks.dbo.Models
  </code></pre>
  <blockquote>
  <p><strong>Note</strong>: This query will return a list of models from the home page of the web application.</p>
  </blockquote>
  </li>
  <li>
  <p>Run this additional query, and then observe the results:</p>
  <pre><code>SELECT * FROM AdventureWorks.dbo.Products
  </code></pre>
  <blockquote>
  <p><strong>Note</strong>: This query will return a list of products that are associated with each model.</p>
  </blockquote>
  </li>
  </ol>
  <h4><a id="user-content-review-1" class="anchor" aria-hidden="true" href="#review-1"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Review</h4>
  <p>In this exercise, you imported all the resources that you'll use with your web application.</p>
  <h3><a id="user-content-exercise-3-open-and-configure-a-net-web-application" class="anchor" aria-hidden="true" href="#exercise-3-open-and-configure-a-net-web-application"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Exercise 3: Open and configure a .NET web application</h3>
  <h4><a id="user-content-task-1-open-and-build-the-web-application" class="anchor" aria-hidden="true" href="#task-1-open-and-build-the-web-application"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Task 1: Open and build the web application</h4>
  <ol>
  <li>
  <p>Using Visual Studio Code, open the solution folder found at <strong>Allfiles (F):\Allfiles\Labs\04\Starter\AdventureWorks</strong>.</p>
  </li>
  <li>
  <p>Using a terminal, build the .NET solution:</p>
  <pre><code>dotnet build
  </code></pre>
  <blockquote>
  <p><strong>Note</strong>: The <strong>dotnet build</strong> command will automatically restore any missing NuGet packages prior to building all projects in the folder.</p>
  </blockquote>
  </li>
  <li>
  <p>Close the current terminal.</p>
  </li>
  </ol>
  <h4><a id="user-content-task-2-update-the-sql-connection-string" class="anchor" aria-hidden="true" href="#task-2-update-the-sql-connection-string"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Task 2: Update the SQL connection string</h4>
  <ol>
  <li>
  <p>Open the <strong>AdventureWorks.Web/appsettings.json</strong> file in Visual Studio Code.</p>
  </li>
  <li>
  <p>Replace the value of the <em>ConnectionStrings.AdventureWorksSqlContext</em> property with the <strong>ADO.NET (SQL Authentication) connection string</strong>&nbsp;of the&nbsp;SQL database&nbsp;that you recorded earlier in this lab.</p>
  <blockquote>
  <p><strong>Note</strong>: It's important that you use your updated connection string here. The original connection string copied from the portal won't have the username and password necessary to connect to the SQL database.</p>
  </blockquote>
  </li>
  <li>
  <p>Save the&nbsp;<strong>appsettings.json</strong>&nbsp;file.</p>
  </li>
  </ol>
  <h4><a id="user-content-task-3-update-the-blob-base-url" class="anchor" aria-hidden="true" href="#task-3-update-the-blob-base-url"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Task 3: Update the blob base URL</h4>
  <ol>
  <li>
  <p>Replace the value of the <em>Settings.BlobContainerUrl</em> property with the <em>URL</em> property of the <strong>Azure Storage</strong> blob container named <strong>images</strong> that you recorded earlier in this lab.</p>
  </li>
  <li>
  <p>Save the&nbsp;<strong>appsettings.json</strong>&nbsp;file.</p>
  </li>
  </ol>
  <h4><a id="user-content-task-4-validate-the-web-application" class="anchor" aria-hidden="true" href="#task-4-validate-the-web-application"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Task 4: Validate the web application</h4>
  <ol>
  <li>
  <p>Using a terminal, change your context to the <strong>AdventureWorks.Web</strong> folder:</p>
  <pre><code>cd .\AdventureWorks.Web\
  </code></pre>
  </li>
  <li>
  <p>Using the same terminal, run the ASP.NET web application project:</p>
  <pre><code>dotnet run
  </code></pre>
  <blockquote>
  <p><strong>Note</strong>: The <strong>dotnet run</strong> command will automatically build any changes to the project and then start the web application without a debugger attached. The command will output the URL of the running application and any assigned ports.</p>
  </blockquote>
  </li>
  <li>
  <p>Open the Microsoft Edge browser.</p>
  </li>
  <li>
  <p>In the open browser window, browse to the web application that's hosted at <strong>localhost</strong> on port <strong>5000</strong>.</p>
  <blockquote>
  <p><strong>Note</strong>: The URL is <a href="http://localhost:5000" rel="nofollow">http://localhost:5000</a>.</p>
  </blockquote>
  </li>
  <li>
  <p>In the web application, observe the list of models displayed from the front page.</p>
  </li>
  <li>
  <p>Find the <strong>Water Bottle</strong> model, and then select <strong>View Details</strong>.</p>
  </li>
  <li>
  <p>From the <strong>Water Bottle</strong> product detail page, find <strong>Add to Cart</strong>, and then observe that the checkout functionality is currently disabled.</p>
  </li>
  <li>
  <p>Close the browser window that's displaying your web application.</p>
  </li>
  <li>
  <p>Return to the <strong>Visual Studio Code</strong> window.</p>
  </li>
  <li>
  <p>Close the current terminal.</p>
  </li>
  </ol>
  <h4><a id="user-content-review-2" class="anchor" aria-hidden="true" href="#review-2"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Review</h4>
  <p>In this exercise, you configured your ASP.NET web application to connect to your resources in Azure.</p>
  <h3><a id="user-content-exercise-4-migrating-sql-data-to-azure-cosmos-db" class="anchor" aria-hidden="true" href="#exercise-4-migrating-sql-data-to-azure-cosmos-db"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Exercise 4: Migrating SQL data to Azure Cosmos DB</h3>
  <h4><a id="user-content-task-1-create-a-migration-project" class="anchor" aria-hidden="true" href="#task-1-create-a-migration-project"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Task 1: Create a migration project</h4>
  <ol>
  <li>
  <p>Using a terminal, create a new .NET console project named <strong>AdventureWorks.Migrate</strong> in a folder with the same name:</p>
  <pre><code>dotnet new console --name AdventureWorks.Migrate
  </code></pre>
  <blockquote>
  <p><strong>Note</strong>: The <strong>dotnet new</strong> command will create a new <strong>console</strong> project in a folder with the same name as the project.</p>
  </blockquote>
  </li>
  <li>
  <p>Using the same terminal, add a reference to the existing <strong>AdventureWorks.Models</strong> project:</p>
  <pre><code>dotnet add .\AdventureWorks.Migrate\AdventureWorks.Migrate.csproj reference .\AdventureWorks.Models\AdventureWorks.Models.csproj
  </code></pre>
  <blockquote>
  <p><strong>Note</strong>: The <strong>dotnet add reference</strong> command will add a reference to the model classes contained in the <strong>AdventureWorks.Models</strong> project.</p>
  </blockquote>
  </li>
  <li>
  <p>Using the same terminal, add a reference to the existing <strong>AdventureWorks.Context</strong> project:</p>
  <pre><code>dotnet add .\AdventureWorks.Migrate\AdventureWorks.Migrate.csproj reference .\AdventureWorks.Context\AdventureWorks.Context.csproj
  </code></pre>
  <blockquote>
  <p><strong>Note</strong>: The <strong>dotnet add reference</strong> command will add a reference to the context classes contained in the <strong>AdventureWorks.Context</strong> project.</p>
  </blockquote>
  </li>
  <li>
  <p>Using the same terminal, change your context to the <strong>AdventureWorks.Migrate</strong> folder:</p>
  <pre><code>cd .\AdventureWorks.Migrate\
  </code></pre>
  </li>
  <li>
  <p>Using the same terminal, import version 3.0.1 of <strong>Microsoft.EntityFrameworkCore.SqlServer</strong> from NuGet:</p>
  <pre><code>dotnet add package Microsoft.EntityFrameworkCore.SqlServer --version 3.0.1
  </code></pre>
  <blockquote>
  <p><strong>Note</strong>: The <strong>dotnet add package</strong> command will add the <strong>Microsoft.EntityFrameworkCore.SqlServer</strong> package from <strong>NuGet</strong>. For more information, go to: <a href="https://www.nuget.org/packages/Microsoft.EntityFrameworkCore.SqlServer/3.0.1" rel="nofollow">Microsoft.EntityFrameworkCore.SqlServer</a>.</p>
  </blockquote>
  </li>
  <li>
  <p>Using the same terminal, import version 3.4.1 of <strong>Microsoft.Azure.Cosmos</strong> from NuGet:</p>
  <pre><code>dotnet add package Microsoft.Azure.Cosmos --version 3.4.1
  </code></pre>
  <blockquote>
  <p><strong>Note</strong>: The <strong>dotnet add package</strong> command will add the <strong>Microsoft.Azure.Cosmos</strong> package from <strong>NuGet</strong>. For more information, go to: <a href="https://www.nuget.org/packages/Microsoft.Azure.Cosmos/3.4.1" rel="nofollow">Microsoft.Azure.Cosmos</a>.</p>
  </blockquote>
  </li>
  <li>
  <p>Using the same terminal, build the .NET console application:</p>
  <pre><code>dotnet build
  </code></pre>
  </li>
  <li>
  <p>Close the current terminal.</p>
  </li>
  </ol>
  <h4><a id="user-content-task-2-create-a-net-class" class="anchor" aria-hidden="true" href="#task-2-create-a-net-class"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Task 2: Create a .NET class</h4>
  <ol>
  <li>
  <p>Open the <strong>AdventureWorks.Migrate/Program.cs</strong> file in Visual Studio Code.</p>
  </li>
  <li>
  <p>Delete all existing code in the <strong>Program.cs</strong> file.</p>
  </li>
  <li>
  <p>Add the following <strong>using</strong> directives for libraries that will be referenced by the application:</p>
  <pre><code>using AdventureWorks.Context;
  using AdventureWorks.Models;
  using Microsoft.Azure.Cosmos;
  using Microsoft.EntityFrameworkCore;
  using System;
  using System.Collections.Generic;
  using System.Linq;
  using System.Threading.Tasks;
  </code></pre>
  </li>
  <li>
  <p>Create a new <strong>Program</strong> class with two constant string properties and an asynchronous <strong>Main</strong> entry point method:</p>
  <pre><code>public class Program
  {
      private const string sqlDBConnectionString = "";
      private const string cosmosDBConnectionString = "";
      
      public static async Task Main(string[] args)
      {
      }
  }
  </code></pre>
  </li>
  <li>
  <p>Update the <strong>sqlDBConnectionString</strong> string constant by setting its value to the&nbsp;<strong>ADO.NET (SQL Authentication) connection string</strong>&nbsp;of the&nbsp;SQL database&nbsp;that you recorded earlier in this lab.</p>
  <blockquote>
  <p><strong>Note</strong>: It's important that you use your updated connection string here. The original connection string copied from the portal won't have the username and password necessary to connect to the SQL database.</p>
  </blockquote>
  </li>
  <li>
  <p>Update the <strong>cosmosDBConnectionString</strong> string constant by setting its value to the&nbsp;<strong>PRIMARY CONNECTION STRING</strong> of the Azure Cosmos DB account that you recorded earlier in this lab.</p>
  </li>
  </ol>
  <h4><a id="user-content-task-3-get-sql-database-records-by-using-entity-framework" class="anchor" aria-hidden="true" href="#task-3-get-sql-database-records-by-using-entity-framework"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Task 3: Get SQL database records by using Entity Framework</h4>
  <ol>
  <li>
  <p>Within the <strong>Main</strong> method, add the following blocks of code to export all model and product records from SQL Database to local memory:</p>
  <pre><code>await Console.Out.WriteLineAsync("Start Migration");
  
  using AdventureWorksSqlContext context = new AdventureWorksSqlContext(sqlDBConnectionString);
  
  List&lt;Model&gt; items = await context.Models
      .Include(m =&gt; m.Products)
      .ToListAsync&lt;Model&gt;();
  
  await Console.Out.WriteLineAsync($"Total Azure SQL DB Records: {items.Count}");
  </code></pre>
  </li>
  <li>
  <p>Save the&nbsp;<strong>Program.cs</strong>&nbsp;file.</p>
  </li>
  <li>
  <p>Using a terminal, change your context to the <strong>AdventureWorks.Migrate</strong> folder:</p>
  <pre><code>cd .\AdventureWorks.Migrate\
  </code></pre>
  </li>
  <li>
  <p>Using the same terminal, build the .NET console application project:</p>
  <pre><code>dotnet build
  </code></pre>
  <blockquote>
  <p><strong>Note</strong>: If there are any build errors, review the <strong>Program.cs</strong> file in the <strong>Allfiles (F):\Allfiles\Labs\04\Solution\AdventureWorks\AdventureWorks.Migrate</strong> folder.</p>
  </blockquote>
  </li>
  <li>
  <p>Close the current terminal.</p>
  </li>
  </ol>
  <h4><a id="user-content-task-4-insert-items-into-azure-cosmos-db" class="anchor" aria-hidden="true" href="#task-4-insert-items-into-azure-cosmos-db"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Task 4: Insert items into Azure Cosmos DB</h4>
  <ol>
  <li>
  <p>Still within the <strong>Main</strong> method, add the following blocks of code to import the in-memory model and product data as documents to Azure Cosmos DB:</p>
  <pre><code>using CosmosClient client = new CosmosClient(cosmosDBConnectionString);
  
  Database database = await client.CreateDatabaseIfNotExistsAsync("Retail");
  
  Container container = await database.CreateContainerIfNotExistsAsync("Online",
      partitionKeyPath: $"/{nameof(Model.Category)}",
      throughput: 1000
  );
  
  int count = 0;
  foreach (var item in items)
  {
      ItemResponse&lt;Model&gt; document = await container.UpsertItemAsync&lt;Model&gt;(item);
      await Console.Out.WriteLineAsync($"Upserted document #{++count:000} [Activity Id: {document.ActivityId}]");
  }
  
  await Console.Out.WriteLineAsync($"Total Azure Cosmos DB Documents: {count}");
  </code></pre>
  </li>
  <li>
  <p>Save the&nbsp;<strong>Program.cs</strong>&nbsp;file.</p>
  </li>
  <li>
  <p>Using a terminal, change your context to the <strong>AdventureWorks.Migrate</strong> folder:</p>
  <pre><code>cd .\AdventureWorks.Migrate\
  </code></pre>
  </li>
  <li>
  <p>Using the same terminal, build the .NET console application project:</p>
  <pre><code>dotnet build
  </code></pre>
  <blockquote>
  <p><strong>Note</strong>: If there are any build errors, review the <strong>Program.cs</strong> file in the <strong>Allfiles (F):\Allfiles\Labs\04\Solution\AdventureWorks\AdventureWorks.Migrate</strong> folder.</p>
  </blockquote>
  </li>
  </ol>
  <h4><a id="user-content-task-5-perform-a-migration" class="anchor" aria-hidden="true" href="#task-5-perform-a-migration"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Task 5: Perform a migration</h4>
  <ol>
  <li>
  <p>Using the same terminal, run the .NET console application project:</p>
  <pre><code>dotnet run
  </code></pre>
  <blockquote>
  <p><strong>Note</strong>: The <strong>dotnet run</strong> command will start the console application.</p>
  </blockquote>
  </li>
  <li>
  <p>Observe the various data that prints to the screen, including initial SQL record count, individual upsert activity identifiers, and final Azure Cosmos DB document count.</p>
  </li>
  <li>
  <p>Close the current terminal.</p>
  </li>
  </ol>
  <h4><a id="user-content-task-6-validate-the-migration" class="anchor" aria-hidden="true" href="#task-6-validate-the-migration"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Task 6: Validate the migration</h4>
  <ol>
  <li>
  <p>Return to the <strong>Microsoft Edge</strong> browser window with the Azure portal.</p>
  </li>
  <li>
  <p>Go to the blade for the <em><em>polycosmos</em>[yourname]</em>** Azure Cosmos DB account that you created earlier in this lab.</p>
  </li>
  <li>
  <p>Open the Data Explorer pane.</p>
  </li>
  <li>
  <p>Create a new <strong>SQL query</strong> tab within the context of the <strong>Retail</strong> database and <strong>Online</strong> container.</p>
  </li>
  <li>
  <p>Run the following query, and then observe the results:</p>
  <pre><code>SELECT * FROM models
  </code></pre>
  </li>
  <li>
  <p>Run the following query, and then observe the results:</p>
  <pre><code>SELECT VALUE COUNT(1) FROM models
  </code></pre>
  </li>
  </ol>
  <h4><a id="user-content-review-3" class="anchor" aria-hidden="true" href="#review-3"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Review</h4>
  <p>In this exercise, you used Entity Framework and the .NET SDK for Azure Cosmos DB to migrate data from SQL Database to Azure Cosmos DB.</p>
  <h3><a id="user-content-exercise-5-accessing-azure-cosmos-db-by-using-net" class="anchor" aria-hidden="true" href="#exercise-5-accessing-azure-cosmos-db-by-using-net"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Exercise 5: Accessing Azure Cosmos DB by using .NET</h3>
  <h4><a id="user-content-task-1-update-library-with-the-cosmos-sdk-and-references" class="anchor" aria-hidden="true" href="#task-1-update-library-with-the-cosmos-sdk-and-references"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Task 1: Update library with the Cosmos SDK and references</h4>
  <ol>
  <li>
  <p>Using a terminal, change your context to the <strong>AdventureWorks.Context</strong> folder:</p>
  <pre><code>cd .\AdventureWorks.Context\
  </code></pre>
  </li>
  <li>
  <p>Using the same terminal, import <strong>Microsoft.Azure.Cosmos</strong> from NuGet:</p>
  <pre><code>dotnet add package Microsoft.Azure.Cosmos --version 3.4.1
  </code></pre>
  <blockquote>
  <p><strong>Note</strong>: The <strong>dotnet add package</strong> command will add the <strong>Microsoft.Azure.Cosmos</strong> package from <strong>NuGet</strong>. For more information, go to: <a href="https://www.nuget.org/packages/Microsoft.Azure.Cosmos/3.4.1" rel="nofollow">Microsoft.Azure.Cosmos</a>.</p>
  </blockquote>
  </li>
  <li>
  <p>Using the same terminal, build the ASP.NET web application project:</p>
  <pre><code>dotnet build
  </code></pre>
  </li>
  <li>
  <p>Close the current terminal.</p>
  </li>
  </ol>
  <h4><a id="user-content-task-2-write-net-code-to-connect-to-azure-cosmos-db" class="anchor" aria-hidden="true" href="#task-2-write-net-code-to-connect-to-azure-cosmos-db"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Task 2: Write .NET code to connect to Azure Cosmos DB</h4>
  <ol>
  <li>
  <p>Create a new <strong>AdventureWorks.Context/AdventureWorksCosmosContext.cs</strong> file in Visual Studio Code.</p>
  </li>
  <li>
  <p>Add the following <strong>using</strong> directives for libraries that will be referenced by the application:</p>
  <pre><code>using AdventureWorks.Models;
  using Microsoft.Azure.Cosmos;
  using Microsoft.Azure.Cosmos.Linq;
  using System;
  using System.Collections.Generic;
  using System.Linq;
  using System.Threading.Tasks;
  </code></pre>
  </li>
  <li>
  <p>Enter the following code to add an <strong>AdventureWorks.Context</strong> namespace block:</p>
  <pre><code>namespace AdventureWorks.Context
  {
  }
  </code></pre>
  </li>
  <li>
  <p>Create a new <strong>AdventureWorksCosmosContext</strong> class that implements the <strong>IAdventureWorksProductContext</strong> interface with a single read-only <em>Container</em> variable:</p>
  <pre><code>public class AdventureWorksCosmosContext : IAdventureWorksProductContext
  {
      private readonly Container _container;
  }
  </code></pre>
  </li>
  <li>
  <p>Within the <strong>AdventureWorksCosmosContext</strong> class, add a new constructor that creates a new instance of the <strong>CosmosClient</strong> class, and then obtain both a <strong>Database</strong> and <strong>Container</strong> instance from the client:</p>
  <pre><code>public AdventureWorksCosmosContext(string connectionString, string database = "Retail", string container = "Online")
  {
      _container = new CosmosClient(connectionString)
          .GetDatabase(database)
          .GetContainer(container);
  }
  </code></pre>
  </li>
  <li>
  <p>Within the <strong>AdventureWorksCosmosContext</strong> class, add a new <strong>FindModelAsync</strong> method that creates a LINQ query, transforms it into an iterator, iterates over the result set, and then returns the single item in the result set:</p>
  <pre><code>public async Task&lt;Model&gt; FindModelAsync(Guid id)
  {
      var iterator = _container.GetItemLinqQueryable&lt;Model&gt;()
          .Where(m =&gt; m.id == id)
          .ToFeedIterator&lt;Model&gt;();
  
      List&lt;Model&gt; matches = new List&lt;Model&gt;();
      while (iterator.HasMoreResults)
      {
          var next = await iterator.ReadNextAsync();
          matches.AddRange(next);
      }
  
      return matches.SingleOrDefault();
  }
  </code></pre>
  </li>
  <li>
  <p>Within the <strong>AdventureWorksCosmosContext</strong> class, add a new <strong>GetModelsAsync</strong> method that runs an SQL query, gets the query result iterator, iterates over the result set, and then returns the union of all results:</p>
  <pre><code>public async Task&lt;List&lt;Model&gt;&gt; GetModelsAsync()
  {
      string query = $@"SELECT * FROM items";
  
      var iterator = _container.GetItemQueryIterator&lt;Model&gt;(query);
  
      List&lt;Model&gt; matches = new List&lt;Model&gt;();
      while (iterator.HasMoreResults)
      {
          var next = await iterator.ReadNextAsync();
          matches.AddRange(next);
      }
  
      return matches;
  }
  </code></pre>
  </li>
  <li>
  <p>Within the <strong>AdventureWorksCosmosContext</strong> class, add a new <strong>FindProductAsync</strong> method that runs an SQL query, gets the query result iterator, iterates over the result set, and then returns the single item in the result set:</p>
  <pre><code>public async Task&lt;Product&gt; FindProductAsync(Guid id)
  {
      string query = $@"SELECT VALUE products
                          FROM models
                          JOIN products in models.Products
                          WHERE products.id = '{id}'";
  
      var iterator = _container.GetItemQueryIterator&lt;Product&gt;(query);
  
      List&lt;Product&gt; matches = new List&lt;Product&gt;();
      while (iterator.HasMoreResults)
      {
          var next = await iterator.ReadNextAsync();
          matches.AddRange(next);
      }
  
      return matches.SingleOrDefault();
  }
  </code></pre>
  </li>
  <li>
  <p>Save the&nbsp;<strong>AdventureWorksCosmosContext.cs</strong>&nbsp;file.</p>
  </li>
  <li>
  <p>Using a terminal, change your context to the <strong>AdventureWorks.Context</strong> folder:</p>
  <pre><code>cd .\AdventureWorks.Context\
  </code></pre>
  </li>
  <li>
  <p>Using the same terminal, build the ASP.NET web application project:</p>
  <pre><code>dotnet build
  </code></pre>
  <blockquote>
  <p><strong>Note</strong>: If there are any build errors, review the <strong>AdventureWorksCosmosContext.cs</strong> file in the <strong>Allfiles (F):\Allfiles\Labs\04\Solution\AdventureWorks\AdventureWorks.Context</strong> folder.</p>
  </blockquote>
  </li>
  <li>
  <p>Close the current terminal.</p>
  </li>
  </ol>
  <h4><a id="user-content-task-3-update-the-azure-cosmos-db-connection-string" class="anchor" aria-hidden="true" href="#task-3-update-the-azure-cosmos-db-connection-string"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Task 3: Update the Azure Cosmos DB connection string</h4>
  <ol>
  <li>
  <p>Open the <strong>AdventureWorks.Web/appsettings.json</strong> file in Visual Studio Code.</p>
  </li>
  <li>
  <p>Replace the value of the <em>ConnectionStrings.AdventureWorksCosmosContext</em> property with the <strong>PRIMARY CONNECTION STRING</strong> of the Azure Cosmos DB account that you recorded earlier in this lab.</p>
  </li>
  <li>
  <p>Save the&nbsp;<strong>appsettings.json</strong>&nbsp;file.</p>
  </li>
  </ol>
  <h4><a id="user-content-task-4-update-net-application-startup-logic" class="anchor" aria-hidden="true" href="#task-4-update-net-application-startup-logic"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Task 4: Update .NET application startup logic</h4>
  <ol>
  <li>
  <p>Open the <strong>AdventureWorks.Web/Startup.cs</strong> file in Visual Studio Code.</p>
  </li>
  <li>
  <p>In the <strong>Startup</strong> class, find the existing <strong>ConfigureProductService</strong> method.</p>
  <blockquote>
  <p><strong>Note</strong>: The current product service uses SQL as its database.</p>
  </blockquote>
  </li>
  <li>
  <p>Replace the <strong>ConfigureProductService</strong> method with the following code:</p>
  <pre><code>public void ConfigureProductService(IServiceCollection services)
  {
      services.AddScoped&lt;IAdventureWorksProductContext, AdventureWorksCosmosContext&gt;(provider =&gt;
              new AdventureWorksCosmosContext(
                  _configuration.GetConnectionString(nameof(AdventureWorksCosmosContext))
              )
      );
  }
  </code></pre>
  </li>
  <li>
  <p>Save the&nbsp;<strong>Startup.cs</strong>&nbsp;file.</p>
  </li>
  </ol>
  <h4><a id="user-content-task-5-validate-that-the-net-application-successfully-connects-to-azure-cosmos-db" class="anchor" aria-hidden="true" href="#task-5-validate-that-the-net-application-successfully-connects-to-azure-cosmos-db"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Task 5: Validate that the .NET application successfully connects to Azure Cosmos DB</h4>
  <ol>
  <li>
  <p>Using a terminal, change your context to the <strong>AdventureWorks.Web</strong> folder:</p>
  <pre><code>cd .\AdventureWorks.Web\
  </code></pre>
  </li>
  <li>
  <p>Using the same terminal, run the ASP.NET web application project:</p>
  <pre><code>dotnet run
  </code></pre>
  <blockquote>
  <p><strong>Note</strong>: The <strong>dotnet run</strong> command will automatically build any changes to the project and then start the web application without a debugger attached. The command will output the URL of the running application and any assigned ports.</p>
  </blockquote>
  </li>
  <li>
  <p>Open the Microsoft Edge browser.</p>
  </li>
  <li>
  <p>In the open browser window, browse to the web application that's hosted at <strong>localhost</strong> on port <strong>5000</strong>.</p>
  <blockquote>
  <p><strong>Note</strong>: The URL is <a href="http://localhost:5000" rel="nofollow">http://localhost:5000</a>.</p>
  </blockquote>
  </li>
  <li>
  <p>In the web application, observe the list of models displayed from the front page.</p>
  </li>
  <li>
  <p>Find the <strong>Touring-1000</strong> model, and then select <strong>View Details</strong>.</p>
  </li>
  <li>
  <p>From the <strong>Touring-1000</strong> product detail page, perform the following actions:</p>
  <ol>
  <li>
  <p>In the <strong>Select options</strong> list, select <strong>Touring-1000 Yellow, 50, $2,384.07</strong>.</p>
  </li>
  <li>
  <p>Find <strong>Add to Cart</strong>.</p>
  </li>
  </ol>
  </li>
  <li>
  <p>Close the browser window displaying your web application.</p>
  </li>
  <li>
  <p>Return to the <strong>Visual Studio Code</strong> window.</p>
  </li>
  <li>
  <p>Close the current terminal.</p>
  </li>
  </ol>
  <h4><a id="user-content-review-4" class="anchor" aria-hidden="true" href="#review-4"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Review</h4>
  <p>In this exercise, you wrote C# code to query an Azure Cosmos DB collection by using the .NET SDK.</p>
  <h3><a id="user-content-exercise-6-clean-up-your-subscription" class="anchor" aria-hidden="true" href="#exercise-6-clean-up-your-subscription"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Exercise 6: Clean up your subscription</h3>
  <h4><a id="user-content-task-1-open-azure-cloud-shell" class="anchor" aria-hidden="true" href="#task-1-open-azure-cloud-shell"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Task 1: Open Azure Cloud Shell</h4>
  <ol>
  <li>
  <p>In the Azure portal, select the <strong>Cloud Shell</strong> icon to open a new shell instance.</p>
  </li>
  <li>
  <p>If Cloud Shell isn't already configured, configure the shell for Bash by using the default settings.</p>
  </li>
  </ol>
  <h4><a id="user-content-task-2-delete-resource-groups" class="anchor" aria-hidden="true" href="#task-2-delete-resource-groups"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Task 2: Delete resource groups</h4>
  <ol>
  <li>
  <p>Enter the following command, and then select Enter to delete the <strong>PolyglotData</strong> resource group:</p>
  <pre><code>az group delete --name PolyglotData --no-wait --yes
  </code></pre>
  </li>
  <li>
  <p>Close the Cloud Shell pane in the portal.</p>
  </li>
  </ol>
  <h4><a id="user-content-task-3-close-the-active-applications" class="anchor" aria-hidden="true" href="#task-3-close-the-active-applications"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Task 3: Close the active applications</h4>
  <ol>
  <li>
  <p>Close the currently running Microsoft Edge application.</p>
  </li>
  <li>
  <p>Close the currently running Visual Studio Code application.</p>
  </li>
  </ol>
  <h4><a id="user-content-review-5" class="anchor" aria-hidden="true" href="#review-5"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Review</h4>
  <p>In this exercise, you cleaned up your subscription by removing the resource groups used in this lab.</p>
  </article>